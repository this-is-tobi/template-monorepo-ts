# =============================================================================
# Bun Configuration - Optimized for Monorepo & Docker
# =============================================================================

# Logging level: "debug" | "warn" | "error"
# Use "warn" to reduce noise while catching issues
logLevel = "warn"

# Memory optimization: reduce memory usage at cost of performance
# Keep false for better performance in monorepo builds
smol = false

# =============================================================================
# Console Output Configuration
# =============================================================================
[console]
# Depth for object inspection in console.log
depth = 4

# =============================================================================
# Package Installation Configuration
# Optimized for monorepo with workspace dependencies
# =============================================================================
[install]
# Linker mode for node_modules structure
linker = "isolated"

# Optimize for production builds in Docker
# Skip optional dependencies by default when NODE_ENV=production
# production = false  # Controlled via --production flag for explicit control

# =============================================================================
# Registry Configuration (Optional)
# Uncomment and configure for private registries or custom mirrors
# =============================================================================
# [install.scopes]
# Default NPM registry
# registry = "https://registry.npmjs.org"

# Private registry with token authentication
# myorg = { token = "$NPM_TOKEN", url = "https://registry.myorg.com/" }

# Private registry with username/password
# myorg = { username = "$NPM_USER", password = "$NPM_PASS", url = "https://registry.myorg.com/" }

# Custom CA certificate for corporate proxies
# ca = "-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----"
# cafile = "path/to/ca-bundle.crt"

# =============================================================================
# Runtime Configuration
# =============================================================================
[run]
# Use Bun runtime instead of Node.js for all scripts
# Enable this to use Bun's faster runtime for package.json scripts
# Leave false to maintain Node.js compatibility where needed
bun = true

# =============================================================================
# Test Configuration
# =============================================================================
[test]
# Default timeout for tests (milliseconds)
timeout = 5000

# Coverage threshold for CI/CD
coverage = true
coverageThreshold = 80

# =============================================================================
# Performance & Optimization
# =============================================================================

# Enable native bundler optimizations
[bundle]
# Minification settings for production builds
minify = true

# Tree-shaking for smaller bundles
treeshake = true
